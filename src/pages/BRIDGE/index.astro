---
import { getLocale } from "astro-i18n-aut";
import ArrowNext from "../../components/ArrowNext.astro";
import { MapComponent } from "../../components/map/Map";
import TitleCols from "../../components/titleSection/TitleCols.astro";
import Container from "../../layouts/Container.astro";
import Layout from "../../layouts/Layout.astro";
import { initializei18n } from "../../utils/i18n";
import BlueBoxText from "../../components/textIslands/BlueBoxText.astro";
import LeftText from "../../components/textIslands/LeftText.astro";
import RightText from "../../components/textIslands/RightText.astro";

import peopleImg from "./01_PEOPLE_BRIDGE.png";
import placesImg from "./02_PLACES_BRIDGE.png";
import practicesImg from "./03_PRACTICES_BRIDGE.png";
import Timeline from "../../components/navbar/Timeline.astro";
import StickyScroll from "../../layouts/StickyScroll.astro";
import TitleBar from "../../components/Title/TitleBar.astro";

const locale = getLocale(Astro.url);
const t = await initializei18n(locale);

// timeline
const from = 1957;
const to = 2023;
const importantDates = [1957, 1991, 2004, 2007, 2023];

// map
const zoomTo: [number, number] | undefined = [46.1828628, 13.716951];
const places: [number, number][] = [
  [46.1828628, 13.716951],
  [46.1828628, 13.716951],
];
const zoom = 15;
---

<Layout>
  <TitleBar
    title1="BRIDGE"
    }
    title2={t("bridge.title1") + " " + t("bridge.title2")}
    author={t("bridge.author")}
  />
  <StickyScroll>
    <Timeline eventFrom={from} eventTo={to} importantEvents={importantDates} />
  </StickyScroll>
  <div class="">
    <MapComponent client:load coords={zoomTo} />
  </div>
  <Container>
    <TitleCols
      body1={t("bridge.intro.first")}
      body2={t("bridge.intro.second")}
      leftQuote="Lorem ipsum, dolor sit amet consectetur adipisicing elit. Explicabo possimus consectetur ratione quisquam doloremque laudantium."
    />

    <LeftText
      body={t("bridge.people.text")}
      image={peopleImg}
      source={t("bridge.people.source")}
      title={t("generic.people")}
    />
  </Container>
  <div class="bg-brand-blue/5 border-brand-blue pt-27 mt-32">
    <Container>
      <RightText
        body={t("bridge.places.text")}
        image={placesImg}
        source={t("bridge.places.source")}
        title={t("generic.places")}
      />
    </Container>
  </div>
  <Container>
    <BlueBoxText
      body={t("bridge.practices.text")}
      image={practicesImg}
      source={t("bridge.practices.source")}
      title={t("generic.practices")}
    />
    <div class="flex justify-end">
      <ArrowNext />
    </div>
  </Container>
</Layout>
